<!DOCTYPE html>
<html>
<head>
    <title>Sistema Diedrico</title>
    <meta charset="utf-8">
    <meta name="author" content="Alonso MartÃ­nez (@almartdev)">
    <meta name="description" content="https://github.com/almatdev/sistemadiedrico">

    <!-- TODO Favicon? -->
    <!--<link rel="icon" type="image/x-icon" href="favicon.ico">-->
    <style>
        body { margin: 0; overflow: hidden; }
        #canvas { 
            display: block; 
            width: 100vw; 
            height: 100vh; 
            background: black;
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <script>
        Module.onRuntimeInitialized = function() {
            window.handleFileContent = function(content) {
                Module.ccall('handle_file_content', null, ['string'], [content]);
            };
        };
    </script>
    <script>
        var Module = {
            canvas: document.getElementById('canvas'),
            onRuntimeInitialized: function() {
                console.log('WASM loaded');
                // Force canvas size
                var canvas = Module.canvas;
                canvas.width = canvas.clientWidth * window.devicePixelRatio;
                canvas.height = canvas.clientHeight * window.devicePixelRatio;
                
            }
        };
    </script>
    <script>
        document.getElementById('canvas').addEventListener('contextmenu', function(e) {
        if (e.button === 2) { // Right mouse button
            e.preventDefault();
            return false;
        }
        });
    </script>
    {{{ SCRIPT }}}
</body>
</html>